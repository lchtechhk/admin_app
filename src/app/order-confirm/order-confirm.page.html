<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button color="light" (click)="pop()">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>確認</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [scrollEvents]="true">
  <ion-card>
    <ion-card-header>
      <h4>送貸地址</h4>
    </ion-card-header>
    <ion-card-content>
      <ion-item lines="none" (click)="open_order_address()">
        <ion-icon color="danger" name="location-outline"></ion-icon>
        <ion-label style="padding-left: 10px;" text-wrap>{{postModel.customer_street_address}}</ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-content>
      <ion-list>
        <ion-item lines="none" (click)="open_order_payment_method()">
          <ion-thumbnail slot="start">
            <ion-img *ngIf="postModel.payment_method_image"
              src="{{this.config.img_url + postModel?.payment_method_image}}"></ion-img>
            <ion-img *ngIf="!postModel.payment_method_image"
              src="{{this.config.img_url + postModel?.payment_method_default_image}}"></ion-img>
          </ion-thumbnail>
          <ion-label style="padding-left: 10px;" text-wrap>{{postModel.payment_method_name}}</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <ion-card class="order-product">
    <ion-card-header>
      <h4>產品</h4>
    </ion-card-header>
    <ion-card-content *ngFor="let cart_product of carts?.cart_product">
      <ion-row class="row-product">
        <ion-col>
          <h3>{{cart_product?.att?.product_attribute_name}}
            <br>
            <small style="background-color: cornsilk;">{{cart_product?.att?.product_name}}</small>
          </h3>
        </ion-col>
      </ion-row>
      <ion-item lines="full">
        <ion-thumbnail slot="start">
          <img *ngIf="cart_product?.att?.image" src="{{this.config.img_url + cart_product?.att?.image}}">
        </ion-thumbnail>
        <ion-label>
          <ion-row>
            <ion-col class="ion-text-left" size="6">Price&nbsp;:&nbsp;</ion-col>
            <ion-col class="ion-text-right" size="6">{{cart_product?.att?.final_price}}</ion-col>
          </ion-row>

          <ion-row>
            <ion-col class="ion-text-left" size="6">Quantity&nbsp;:&nbsp;</ion-col>
            <ion-col class="ion-text-right" size="6">{{cart_product?.att?.qty}}</ion-col>
          </ion-row>

          <ion-row>
            <ion-col class="ion-text-left" size="6">
              <strong>Total</strong>&nbsp;:&nbsp;</ion-col>
            <ion-col class="ion-text-right" size="6">
              <strong>{{cart_product?.sub_total}}</strong>
            </ion-col>
          </ion-row>
        </ion-label>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      支付明細
    </ion-card-header>
    <ion-card-content>
      <ion-row>
        <ion-col size="6">
          訂單總金額
        </ion-col>
        <ion-col size="6" class="ion-text-right">
          {{carts?.final_total_price}}
        </ion-col>
      </ion-row>
      <!-- <ion-row>
        <ion-col size="6">
          Cost
        </ion-col>
        <ion-col size="6" class="ion-text-right">
          shipping_cost
        </ion-col>
      </ion-row> -->
    </ion-card-content>
  </ion-card>
  <ion-card>
    <ion-card-header>
      備註
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-textarea [(ngModel)]="postModel.order_remark" name="note" ></ion-textarea>
      </ion-item>
    </ion-card-content>
  </ion-card>
  <ion-button expand="full" class="button-footer" color="secondary" (click)="submit_order()">提交</ion-button>
</ion-content>